@model OTS.Data.Models.combomodel
@{
    ViewData["Title"] = "User";
    Layout = "~/Views/Shared/supplier_layout.cshtml";
}

<div class="user-form-wrapper">
    <h3 class="mb-3">Create User</h3>
    <form action="../User/Add_corporateuser" method="post">
        <input type="hidden" name="Id" value="@Model.CorpUser_Models.Id"/>
            @* <div class="createuser-form"> *@
            
            <select class="form-control" name="vendorid">
                <option value="0">---Select Client---</option>
                @foreach (var item in Model.Client_Model)
                {
                    if (item.Id == Model.CorpUser_Models.vendorid)
                    {

                        <option value="@item.Id" selected>@item.Name</option>
                    }
                    else { 
                    <option value="@item.Id">@item.Name</option>
                    }

                }
            </select>

            <div class="row mt-3">
                <div class="col">
                    <input type="text" class="form-control" placeholder="First name" aria-label="First name" name="firstname" value="@Model.CorpUser_Models.firstname" required>
                </div>
                <div class="col">
                <input type="text" class="form-control" placeholder="Last name" aria-label="Last name" name="lastname" value="@Model.CorpUser_Models.lastname" required>
                </div>
                <div class="col">
                <input type="text" class="form-control" placeholder="Contact NO" aria-label="Last name" name="contactno" value="@Model.CorpUser_Models.contactno" required>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col">
                <input type="text" class="form-control" placeholder="Username" aria-label="First name" name="username" value="@Model.CorpUser_Models.username" required>
                </div>
                <div class="col">
                <input type="text" class="form-control" placeholder="Password" aria-label="Last name" name="password" value="@Model.CorpUser_Models.password" required>
                </div>
                <div class="col">
                <input type="text" class="form-control" placeholder="Email ID" aria-label="Last name" name="emailid" value="@Model.CorpUser_Models.emailid" required>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-md-4">
                    <!-- <label for="inputState" class="form-label">State</label> -->
                <select id="ddlusertype" class="form-select" name="usertype" onchange="show_user()" required>
                        <option value="0">---Select Usertype---</option>
                        @foreach (var item in Model.UserTypeModels)
                        {
                           
                            if (item.id == Model.CorpUser_Models.usertype)
                            {

                                <option value="@item.id" selected>@item.usertype</option>
                            }
                            else
                            {
                                <option value="@item.id">@item.usertype</option>
                            }
                        }
                    </select>
                </div>

                <div class="col-md-4">
                    <!-- <label for="inputState" class="form-label">State</label> -->
                <select id="inputState1" class="form-select" name="department" required>
                        <option value="0">---Select Department---</option>
                        @foreach (var item in Model.departmentModels)
                        {
                            
                            if (item.Id == Model.CorpUser_Models.department)
                            {

                                <option value="@item.Id" selected>@item.Name</option>
                            }
                            else
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        }
                    </select>
                </div>

                <div class="col-md-4">
                    <!-- <label for="inputState" class="form-label">State</label> -->
                <select id="inputState" class="form-select" name="approval_type" required>
                        

                            @if (Model.CorpUser_Models.approval_type == 0)
                            {
                                <option value="0" selected>Approval Type</option>
                                <option value="1">Level 0</option>
                                <option value="2">Level 1</option>
                                <option value="3">Level 2</option>
                                <option value="4">Level 3</option>
                            }
                            else if (Model.CorpUser_Models.approval_type == 1)
                            {
                                <option value="0">Approval Type</option>
                                <option value="1" selected>Level 0</option>
                                <option value="2">Level 1</option>
                                <option value="3">Level 2</option>
                                <option value="4">Level 3</option>
                            }
                            else if (Model.CorpUser_Models.approval_type == 2)
                            {
                                <option value="0">Approval Type</option>
                                <option value="1">Level 0</option>
                                <option value="2" selected>Level 1</option>
                                <option value="3">Level 2</option>
                                <option value="4">Level 3</option>
                            }
                            else if (Model.CorpUser_Models.approval_type == 3)
                            {
                                <option value="0">Approval Type</option>
                                <option value="1">Level 0</option>
                                <option value="2">Level 1</option>
                                <option value="3" selected>Level 2</option>
                                <option value="4">Level 3</option>
                            }
                            else if (Model.CorpUser_Models.approval_type == 4)
                            {
                                <option value="0">Approval Type</option>
                                <option value="1">Level 0</option>
                                <option value="2">Level 1</option>
                                <option value="3">Level 2</option>
                                <option value="4" selected>Level 3</option>
                            }
                            else
                            {
                                <option value="0" selected>Approval Type</option>
                                <option value="1">Level 0</option>
                                <option value="2">Level 1</option>
                                <option value="3">Level 2</option>
                                <option value="4">Level 3</option>
                            }
                    </select>
                </div>
                <div class="col-md-12 mt-3">
                    <!-- <label for="inputState" class="form-label">State</label> -->
                    <select id="ddluser" class="form-select" name="approveby">
                        <option value="0">---Select Approver---</option>
                        @foreach (var item in Model.CorpUserModels)
                        {
                           
                            if (item.Id == Model.CorpUser_Models.approveby)
                            {

                                <option value="@item.Id" selected>@item.firstname @item.lastname</option>
                            }
                            else
                            {
                                <option value="@item.Id">@item.firstname @item.lastname</option>
                            }

                        }
                    </select>

                    <p class="mt-3">Cost Center</p>
                    @{
                        if (Model.costCenters != null)
                        {
                            foreach (var item in Model.costCenters)
                            {
                                            <div class="form-check form-check-inline">
                                            <input class="form-check-input" type="checkbox" id="chk_@item.Id" value="@item.Id">
                                            <label class="form-check-label" for="inlineCheckbox1">@item.Name</label>
                                            </div>
                            }
                        }
                    }
                    

                    <div class="mt-3">
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Billing Address" name="billingaddress" required>@Model.CorpUser_Models.billingaddress</textarea>
                    </div>


                    <div class="mt-3">
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Shipping Address" name="shippingaddress1" required>@Model.CorpUser_Models.shippingaddress1</textarea>
                    </div>


                    <div class="mt-3">
                        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" placeholder="Optional Shipping Address" name="shippingaddress2">@Model.CorpUser_Models.shippingaddress2</textarea>
                    </div>

                    <div class="row mt-3">
                        <div class="col">
                        <select class="form-control" name="branchid" required>
                                <option value="0">---Select Branch---</option>
                                @foreach (var item in Model.branchModels)
                                {
                                    if (item.Id == Model.CorpUser_Models.branchid)
                                    {

                                        <option value="@item.Id" selected>@item.Name</option>
                                    }
                                    else
                                    {
                                        <option value="@item.Id">@item.Name</option>
                                    }
                                }
                            </select>
                        </div>
                        
                        <div class="col" id="divlimit">
                            <input type="text" class="form-control" placeholder="Limit Amount" aria-label="Last name" name="limitamount" value="@Model.CorpUser_Models.limitamount" required>
                        </div>
                        <div class="col" id="divtat">
                            <input type="text" class="form-control" placeholder="TAT" aria-label="Last name" name="tat" value="@Model.CorpUser_Models.tat">
                        </div>

                       <div class="col" id="divreg">
                            <input type="text" class="form-control" placeholder="Regions" aria-label="Regions" name="regions" value="@Model.CorpUser_Models.regions">
                        </div>
                       
                    </div>

                    <button class="mt-3" id="user-form-btn">Submit</button>


    </form>
</div>
@section scripts1 {
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>
        function show_user() { 
            if ($("#ddlusertype").val() == 1) {
                $("#ddluser").hide();
                $("#divlimit").show();
                $("#divtat").show();
                $("#divreg").show();
            }
            else if($("#ddlusertype").val() == 2)
            {
             $("#divlimit").show();
              $("#divtat").show();
                $("#divreg").show();
            }
            else { 
                $("#ddluser").show();
                $("#divlimit").show();
                $("#divtat").hide();
                $("#divreg").show();
            }
        }
    </script>

}
